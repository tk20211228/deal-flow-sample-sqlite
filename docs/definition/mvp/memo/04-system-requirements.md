# システム要件まとめ

## 機能要件の整理

### 1. マイソク管理・業者配布機能

#### 現状の課題

- Excelでマイソク作成 → PDF変換 → 一括メール送付
- 業者からメールで金額回答 → 手動でスプシに入力
- 過去のデータ分析ができていない

#### 理想の機能

- [ ] システム内でマイソク作成
- [ ] URL送付による一括配布機能
- [ ] 金額回答フォーム機能
- [ ] 業者からの金額回答を自動反映
- [ ] 金額が高い順に自動並び替え
- [ ] 追いメール返信機能
- [ ] 過去データからの分析機能
  - 業者別平均金額
  - 業者別回答率
- [ ] 進捗ステータス管理（未仕入れ/😭/▲/〇）

### 2. 物件調査管理機能

#### 現状の課題

- Evernoteで手動管理（誤って文章を消すリスク）
- 入力日、依頼日、取得日等が不明確
- 手打ち入力が多い

#### 理想の機能

- [ ] 誤削除防止機能
- [ ] 入力日、依頼日、取得日の自動記録
- [ ] チェックボックスによるワンクリック進捗管理
- [ ] 必要書類のチェックリスト機能
  - 建物管理: 重調、管理規約、長計
  - 賃貸管理: 賃契、管理委託契約書
  - 役所: 公課証明、建築概要
- [ ] 営業依頼待ちステータス管理
- [ ] 自動リマインダー機能

### 3. BC契約管理機能

#### 現状の課題

- Evernoteで手動管理（誤って文章を消すリスク）
- BC売契作成日、送付日、CB日等が不明確
- 手打ち入力が多い

#### 理想の機能

- [ ] 誤削除防止機能
- [ ] BC売契作成日、送付日、CB日の自動記録
- [ ] チェックボックスによるワンクリック進捗管理
- [ ] 進捗ステータス管理
  - 新規作成
  - 送付CB待ち
  - 業者CB済
  - 業者契約待ち
  - BC契約締結済み
- [ ] 自動リマインダー機能

### 4. 精算書管理機能

#### 現状の課題

- Evernoteで手動管理（誤って文章を消すリスク）
- BC精算書作成日、送付日、CB日、売主用精算書作成完了日等が不明確
- 手打ち入力が多い
- ローン計算書の取得状況が分かりにくい

#### 理想の機能

- [ ] 誤削除防止機能
- [ ] 精算書作成日、送付日、CB日、売主用精算書作成完了日の自動記録
- [ ] チェックボックスによるワンクリック進捗管理
- [ ] 進捗ステータス管理
  - 新規作成
  - 送付CB待ち
  - CB済 売主用作成
  - 作成済CR
  - CR待ち
  - CR済
  - 決済済み
- [ ] ローン計算書取得状況管理
- [ ] 決済月管理（当月/翌月）
- [ ] 自動リマインダー機能

### 5. 司法書士依頼管理機能

#### 現状の課題

- スプレッドシートで管理
- 抜け漏れに気づくのが遅れる
- 司法書士との情報共有が分散

#### 理想の機能

- [ ] システム内での司法書士依頼管理
- [ ] 司法書士依頼遅延時のアラート機能
- [ ] 司法書士との情報共有機能
- [ ] 司法書士別の管理
  - 林先生
  - 谷口先生
  - 石橋先生
  - その他
- [ ] 自動リマインダー機能

### 6. 賃貸管理解約機能

#### 現状の課題

- 営業が個別に対応
- 会社側で管理解約状況を確認できない
- 抜け漏れのリスク

#### 理想の機能

- [ ] 案件ごとの管理解約月入力機能
- [ ] ワンクリックでの管理解約手続き記録
- [ ] 管理解約日、管理解約依頼日の記録
- [ ] アラート機能（2〜3ヶ月前の申し込み期限に対して）
- [ ] 自動リマインダー機能

### 7. 売上管理機能

#### 現状の課題

- ホワイトボード（スプレッドシート）で手動管理
- 売上計上ルールが複雑
- イレギュラーケースの管理が煩雑

#### 理想の機能

- [ ] 売上計上ルールの自動適用
  - 当月契約 → 翌月末日までにC確定 = 当月売上
  - 確定が遅れた場合 = 確定した月の前月売上
- [ ] ステータス管理
  - 未確定
  - 確定
  - 次月
  - 違約入金済
  - 違約予定
  - 弁護士
- [ ] 今月仕入物件一覧
- [ ] 未確定案件一覧
- [ ] 営業別売上集計
- [ ] 月別売上推移
- [ ] ダッシュボード機能

### 8. 全体管理機能

#### 理想の機能

- [ ] 案件一覧・検索機能
- [ ] 案件詳細画面
- [ ] 進捗状況の可視化（カンバンボード/ガントチャート）
- [ ] 通知・アラート機能
- [ ] 営業と事務員の連携機能（チャットワーク代替）
- [ ] ダッシュボード
  - 案件数
  - 売上予測
  - タスク期限
  - ボトルネック分析
- [ ] ドキュメント管理機能
  - 売契
  - 重説
  - 精算書
  - その他書類
- [ ] 権限管理
  - 営業
  - 事務員
  - 管理者
  - 司法書士（閲覧のみ）

## 非機能要件

### パフォーマンス

- [ ] ページ読み込み速度: 3秒以内
- [ ] データ検索速度: 1秒以内

### セキュリティ

- [ ] ユーザー認証
- [ ] 権限管理
- [ ] データ暗号化
- [ ] アクセスログ

### 使いやすさ

- [ ] 直感的なUI/UX
- [ ] レスポンシブデザイン
- [ ] ショートカットキー対応
- [ ] ヘルプ機能

### 保守性

- [ ] コードの可読性
- [ ] テストコードの作成
- [ ] ドキュメント整備
- [ ] エラーログ管理

## 技術スタック

- **フレームワーク**: Next.js 15 (App Router)
- **データベース**: Turso (SQLite Edge Database)
- **ORM**: Drizzle ORM
- **認証**: Better Auth
- **ホスティング**: Vercel
- **スタイリング**: Tailwind CSS v4
- **UIコンポーネント**: shadcn/ui

## 優先順位

### フェーズ1（MVP）

1. 案件管理の基本機能
2. マイソク管理・業者配布機能
3. 物件調査管理機能
4. BC契約管理機能
5. 精算書管理機能
6. 売上管理機能

### フェーズ2

1. 司法書士依頼管理機能
2. 賃貸管理解約機能
3. 通知・アラート機能の強化
4. ダッシュボード機能の充実

### フェーズ3

1. 分析機能の強化
2. レポート機能
3. API連携
4. モバイルアプリ化
